<!doctype html><html><head><style>

</style><script>
  console.log('v{{npm_package_version}}')
  function view_log (message) {
    const element = document.getElementById('view-log')
    element.innerText = message
  }
  async function test_api () {
    const r = await fetch(`http://localhost:12000/api/v2/jwt`)
    const jwt = await r.text()
    const Authorization = `Bearer ${jwt}`
    const headers = { Authorization }
    const r1 = await fetch(`http://localhost:12000/api/v2/eg-resource`, { headers })
    const j = await r1.json()
    console.log(j)
    view_log(JSON.stringify(j, null, 2))
  }
  async function test_api_v3 () {
    const config = {
        method: `POST`,
        headers: { [`Content-Type`]: `application/json` },
        body: JSON.stringify({ username: `thor`, password: `hammer` })
    }
    const r = await fetch(`http://localhost:12000/api/v3/authenticate`, config)
    const r1 = await fetch(`http://localhost:12000/api/v3/eg-resource`)
    const j = await r1.json()
    console.log(j)
    view_log(JSON.stringify(j, null, 2))
  }
</script></head><body onload="test_api_v3()">
  <section>
    <h1>You've landed.</h1>
    <h3>v{{npm_package_version}}</h3>
    <p>Here hosts a RESTful API.</p>
    <pre id="view-log"></pre>
  </section>
</body></html>